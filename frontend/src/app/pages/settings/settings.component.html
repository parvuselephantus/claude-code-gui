<div class="settings-container">
  <div class="settings-header">
    <button mat-icon-button (click)="goBack()" class="back-button">
      <mat-icon>arrow_back</mat-icon>
    </button>
    <h1>âš™ï¸ Settings</h1>
  </div>

  <!-- Analysis Mode Settings -->
  <mat-card class="settings-card">
    <mat-card-header>
      <mat-card-title>Analysis Mode</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="setting-item">
        <mat-slide-toggle
          [(ngModel)]="useMcpMode"
          [disabled]="!mcpModeAvailable"
          color="primary"
        >
          <span class="setting-label">
            {{ useMcpMode ? 'ğŸ’¬ MCP Mode (Conversation)' : 'ğŸ“„ Simple Mode (One-shot)' }}
          </span>
        </mat-slide-toggle>
        <p class="setting-description">
          <span *ngIf="!useMcpMode">
            Simple Mode: Claude provides a single analysis response. Best for quick questions.
          </span>
          <span *ngIf="useMcpMode">
            MCP Mode: Claude maintains conversation history for multi-turn discussions. Best for complex exploratory questions.
          </span>
        </p>
      </div>
    </mat-card-content>
  </mat-card>

  <!-- Save Button -->
  <div class="settings-actions">
    <button mat-raised-button color="primary" (click)="saveSettings()">
      Save & Return
    </button>
    <button mat-stroked-button (click)="goBack()">
      Cancel
    </button>
  </div>
</div>
